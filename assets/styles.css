@import url("https://fonts.googleapis.com/css2?family=Fredoka&family=Nunito:wght@400;600;700;800&display=swap");

@import "tailwindcss";

@variant dark (&:where(.dark, .dark *));

@layer base {
  :root {
    --bg-main: oklch(0.932 0.032 229.86); /* #e0f2fe */
    --text-main: oklch(0.206 0.059 264.85); /* #16213e */
    --border-main: oklch(0.206 0.059 264.85); /* #16213e */

    /* Code - Always Dark (High Contrast) */
    --code-bg: oklch(0.206 0.059 264.85); /* #16213e */
    --code-text: oklch(0.797 0.023 256.85); /* #adbac7 */
    --code-keyword: oklch(0.712 0.194 26.87); /* #ff7b72 */
    --code-string: oklch(0.843 0.094 243.79); /* #a5d6ff */
    --code-comment: oklch(0.636 0.018 256.85); /* #8b949e */
    --code-function: oklch(0.759 0.154 302.38); /* #d2a8ff */
    --code-number: oklch(0.765 0.132 246.34); /* #79c0ff */
    --code-tag: oklch(0.857 0.178 142.82); /* #7ee787 */
    --code-attr: oklch(0.759 0.154 302.38); /* #d2a8ff */
  }

  .dark {
    --bg-main: oklch(0.178 0.045 262.6); /* #0f172a */
    --text-main: oklch(0.959 0.01 256.85); /* #f1f5f9 */
    --border-main: oklch(0.206 0.059 264.85); /* #16213e */

    /* Code variables inherit from root since we want them consistent */
  }
}

@theme {
  /* Colors */
  /* Main Background: Swaps in dark mode */
  --color-whalies-bg: var(--bg-main);

  /* Main Text: Swaps in dark mode */
  --color-whalies-text: var(--text-main);

  /* The Original Navy: Keeps being dark (good for borders on pastel cards) */
  --color-whalies-navy: oklch(0.206 0.059 264.85); /* #16213e */

  --color-whalies-default: oklch(0.8651 0.1153 207.08); /* #67e8f9 */
  --color-whalies-dark: oklch(0.53 0.11 233.5); /* #0e7490 */

  --color-pastel-pink: oklch(0.8 0.15 340); /* #f9a8d4 */
  --color-pastel-yellow: oklch(0.92 0.18 98); /* #fde047 */
  --color-pastel-purple: oklch(0.82 0.12 290); /* #c4b5fd */
  --color-pastel-mint: oklch(0.88 0.15 160); /* #6ee7b7 */
  --color-pastel-blue: oklch(0.86 0.1 235); /* #7dd3fc */

  /* Fonts */
  --font-cartoon: "Fredoka", "Varela Round", sans-serif;
  --font-body: "Nunito", sans-serif;

  /* Border Radius */
  --radius-4xl: 2rem;
  --radius-button: 1.5rem;

  /* Shadows */
  --shadow-cartoon: 0px 4px 0px 0px oklch(0.206 0.059 264.85 / 0.2);
  --shadow-cartoon-hover: 0px 2px 0px 0px oklch(0.206 0.059 264.85 / 0.2);
  --shadow-card: 0px 8px 0px 0px oklch(0 0 0 / 0.1);
}

body {
  @apply font-body bg-whalies-bg text-whalies-text transition-colors
    duration-300;
}

h1, h2, h3, h4, h5, h6 {
  @apply font-cartoon;
}

.markdown-body h1 {
  @apply text-4xl mb-4 text-whalies-navy dark:text-gray-100;
}
.markdown-body h2 {
  @apply text-3xl mb-3 mt-6 text-whalies-navy dark:text-gray-100;
}
.markdown-body h3 {
  @apply text-2xl mb-2 mt-4 text-whalies-navy dark:text-gray-100;
}
.markdown-body p {
  @apply mb-4 leading-relaxed dark:text-gray-300;
}
.markdown-body ul {
  @apply list-disc list-outside pl-5 mb-4 dark:text-gray-300;
}
.markdown-body ol {
  @apply list-decimal list-outside pl-5 mb-4 dark:text-gray-300;
}
.markdown-body a {
  @apply text-whalies-dark dark:text-whalies-default underline decoration-2
    decoration-whalies-default dark:decoration-whalies-dark
    hover:text-whalies-default dark:hover:text-whalies-dark transition-colors
    duration-200;
}
.markdown-body code {
  @apply bg-gray-100 px-1 py-0.5 rounded text-sm font-mono dark:bg-gray-700
    dark:text-gray-200;
}
.markdown-body pre {
  @apply p-4 rounded-4xl overflow-x-auto mb-4 border-2 border-whalies-navy
    shadow-cartoon;
  background-color: var(--code-bg);
  color: var(--code-text);
}

.markdown-body pre code {
  @apply bg-transparent p-0 border-none shadow-none font-mono text-sm;
  color: inherit;
}

/* Highlight.js Custom Theme using CSS Variables */
.hljs-comment,
.hljs-quote {
  color: var(--code-comment);
  font-style: italic;
}

.hljs-doctag,
.hljs-keyword,
.hljs-formula {
  color: var(--code-keyword);
}

.hljs-section,
.hljs-name,
.hljs-selector-tag,
.hljs-deletion,
.hljs-subst {
  color: var(--code-keyword);
}

.hljs-literal {
  color: var(--code-keyword);
}

.hljs-string,
.hljs-regexp,
.hljs-addition,
.hljs-attribute,
.hljs-meta .hljs-string {
  color: var(--code-string);
}

.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-type,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-number {
  color: var(--code-number);
}

.hljs-symbol,
.hljs-bullet,
.hljs-link,
.hljs-meta,
.hljs-selector-id,
.hljs-title {
  color: var(--code-function);
}

.hljs-built_in,
.hljs-title.class_,
.hljs-class .hljs-title {
  color: var(--code-number);
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
